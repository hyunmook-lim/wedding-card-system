# π“‹ ν”„λ΅μ νΈ κ·μΉ™ λ° μ»¨λ²¤μ…: μΈν„°λ™ν‹°λΈ λ¨λ°”μΌ μ²­μ²©μ¥

## 1. ν”„λ΅μ νΈ κ°μ” λ° ν•µμ‹¬ μ›μΉ™

**λ©ν‘**: μ •μ  μ‚¬μ΄νΈ μƒμ„±μ„ ν”Όν•κ³ , κ³ λ„λ΅ μΈν„°λ™ν‹°λΈν• λ¨λ°”μΌ μ²­μ²©μ¥ μ„λΉ„μ¤λ¥Ό κµ¬μ¶•ν•©λ‹λ‹¤. λ‹¨μΌ μ½”λ“λ² μ΄μ¤λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ² μ΄μ¤ μ„¤μ •μ— λ”°λΌ κ³ μ ν• μ²­μ²©μ¥ νμ΄μ§€λ¥Ό λ™μ μΌλ΅ λ λ”λ§ν•©λ‹λ‹¤.

**ν•µμ‹¬ μ² ν•™**:

- **λ‹¨μΌ μ½”λ“λ² μ΄μ¤, λ™μ  λ λ”λ§**: ν•λ‚μ Next.js μ•±μ΄ `[weddingId]` URL νλΌλ―Έν„°λ¥Ό ν†µν•΄ λ¨λ“  κ³ κ°μ—κ² μ„λΉ„μ¤λ¥Ό μ κ³µν•©λ‹λ‹¤.
- **μ„¤μ • κΈ°λ° UI (Config-Driven UI)**: μμΈ΅ν•  μ μ—†λ” μ„Ήμ… μ΅°ν•©λ„ JSON μ„¤μ •(`WeddingConfig`)μ— λ”°λΌ μ™„μ „ν λ™μ μΌλ΅ κµ¬μ„±λ©λ‹λ‹¤.
- **λ¨λ°”μΌ νΌμ¤νΈ & ν”„λ¦¬λ―Έμ—„ μ‹¬λ―Έμ„±**: λ¨λ°”μΌ λ·°ν¬νΈ(μµλ€ λ„λΉ„: 430px)μ— λ§μ¶° μ„¤κ³„λμ—μΌλ©°, ν’λ¶€ν• μ• λ‹λ©”μ΄μ…(Framer Motion)κ³Ό 3D ν¨κ³Όλ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.

### κΈ°μ  μ¤νƒ

- **ν”„λ μ„μ›ν¬**: Next.js 16 (App Router)
- **μ–Έμ–΄**: TypeScript (Strict Mode)
- **UI λΌμ΄λΈλ¬λ¦¬**: React 19
- **μ¤νƒ€μΌλ§**: Tailwind CSS v4
- **μ• λ‹λ©”μ΄μ…**: Framer Motion v12
- **λ°μ΄ν„° νμΉ­**: Server Components + `fetch`

---

## 2. ν”„λ΅μ νΈ μ•„ν‚¤ν…μ²

### λ””λ ‰ν† λ¦¬ κµ¬μ΅°

```bash
src/
β”β”€β”€ app/                  # Next.js App Router
β”‚   β”β”€β”€ [weddingId]/      # μ²­μ²©μ¥ νμ΄μ§€μ© λ™μ  λΌμ°νΈ
β”‚   β”‚   β”β”€β”€ page.tsx      # μ§„μ…μ : λ°μ΄ν„° νμΉ­ λ° λ μ§€μ¤νΈλ¦¬ μ£Όμ…
β”‚   β”‚   β””β”€β”€ layout.tsx    # λ¨λ°”μΌ μ»¨ν…μ΄λ„ λ μ΄μ•„μ›ƒ
β”‚   β””β”€β”€ layout.tsx        # μ „μ—­ λ£¨νΈ λ μ΄μ•„μ›ƒ
β”‚
β”β”€β”€ components/
β”‚   β”β”€β”€ sections/         # κ°λ³„ μ„Ήμ… μ»΄ν¬λ„νΈ
β”‚   β”‚   β”β”€β”€ 0.Intro/
β”‚   β”‚   β”β”€β”€ 1.Greeting/
β”‚   β”‚   β”β”€β”€ 2.BrideGroom/
β”‚   β”‚   β”β”€β”€ 3.Date/
β”‚   β”‚   β”β”€β”€ 4.Location/
β”‚   β”‚   β”β”€β”€ 5.Account/
β”‚   β”‚   β””β”€β”€ ...
β”‚   β”β”€β”€ ui/               # μ¬μ‚¬μ© κ°€λ¥ν• UI (StickySection λ“±)
β”‚   β””β”€β”€ SectionRegistry.tsx # ν•µμ‹¬ λ΅μ§: JSONμ„ μ»΄ν¬λ„νΈλ΅ λ§¤ν•‘
β”‚
β”β”€β”€ lib/
β”‚   β”β”€β”€ fetch-wedding.ts  # λ°μ΄ν„° μ΅°ν λ΅μ§ (Mock/DB)
β”‚   β””β”€β”€ mock-data.ts      # κ°λ°μ© Mock λ°μ΄ν„°
β”‚
β””β”€β”€ types/
    β””β”€β”€ wedding.d.ts      # ν•µμ‹¬ νƒ€μ… μ •μ (WeddingConfig, SectionProps)
```

### λ°μ΄ν„° νλ¦„ ν¨ν„΄

1.  **μ”μ²­**: μ‚¬μ©μκ°€ `/w/[weddingId]`μ— μ ‘μ†ν•©λ‹λ‹¤.
2.  **μ΅°ν (μ„λ²„)**: `src/app/[weddingId]/page.tsx`μ—μ„ `getWedding(weddingId)`λ¥Ό νΈμ¶ν•©λ‹λ‹¤.
3.  **κ°€κ³µ**: μ „μ—­ λ°μ΄ν„°(λ‚ μ§, μ¥μ†, μ‹ λ‘/μ‹ λ¶€ μ •λ³΄)λ¥Ό νΉμ • μ„Ήμ… μ„¤μ •μ— λ³‘ν•©ν•©λ‹λ‹¤.
4.  **λ λ”λ§ (ν΄λΌμ΄μ–ΈνΈ)**: `SectionRegistry.tsx`κ°€ μ²λ¦¬λ μ„Ήμ… λ©λ΅μ„ λ°›μµλ‹λ‹¤.
5.  **λ§¤ν•‘**: λ μ§€μ¤νΈλ¦¬κ°€ μ„Ήμ…μ„ μνν•λ©° `type`κ³Ό `variant`μ— λ”°λΌ μ¬λ°”λ¥Έ μ»΄ν¬λ„νΈλ¥Ό λ™μ μΌλ΅ importν•μ—¬ λ λ”λ§ν•©λ‹λ‹¤.

---

## 3. κµ¬ν„ μ»¨λ²¤μ…

### 3.1 μ»΄ν¬λ„νΈ μ»¨λ²¤μ…

λ¨λ“  μ„Ήμ… μ»΄ν¬λ„νΈλ” `SectionProps` μΈν„°νμ΄μ¤λ¥Ό μ¤€μν•΄μ•Ό ν•©λ‹λ‹¤:

```typescript
interface SectionProps {
  config: Record<string, unknown>; // μ„Ήμ…λ³„ κµ¬μ²΄μ μΈ λ°μ΄ν„°
  isVisible: boolean; // λ…Έμ¶ μ—¬λ¶€ ν† κΈ€
  onEnter?: () => void; // μ„ νƒμ  μ½λ°± (μ: μΈνΈλ΅ μ™„λ£ μ‹)
}
```

- **λ„¤μ΄λ°**: λ³€ν•(variant)μ„ λ‚νƒ€λ‚΄λ” μ§κ΄€μ μΈ μ΄λ¦„μ„ μ‚¬μ©ν•©λ‹λ‹¤ (μ: `BasicGreeting`, `VideoGreeting`, `SoftTypingDate`).
- **μ§€μ—° λ΅λ”© (Lazy Loading)**: `SectionRegistry`μ λ¨λ“  μ„Ήμ… μ»΄ν¬λ„νΈλ” `dynamic(() => import(...))`μ„ μ‚¬μ©ν•μ—¬ κ°€μ Έμµλ‹λ‹¤.
- **λ°©μ–΄μ  μ½”λ”©**: JSON μ¤ν‚¤λ§κ°€ λ³€κ²½λ  μ μμΌλ―€λ΅ `config` μ†μ„±μ€ μµμ…”λ„ μ²΄μ΄λ‹(`config?.text`)μΌλ΅ μ ‘κ·Όν•κ±°λ‚ κΈ°λ³Έκ°’(fallback)μ„ κ°€μ Έμ•Ό ν•©λ‹λ‹¤.

### 3.2 λ μ΄μ•„μ›ƒ & μ¤ν¬λ΅¤ (Sticky Stacking)

μ΄ ν”„λ΅μ νΈλ” μ„Ήμ…λ“¤μ΄ μ„λ΅ μ„λ΅ λ―Έλ„λ¬μ Έ κ²ΉμΉλ” "Sticky Stacking" ν¨κ³Όλ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.

- **StickySection**: `src/components/ui/StickySection.tsx` λνΌ μ»΄ν¬λ„νΈκ°€ `position: sticky` λ™μ‘μ„ μ²λ¦¬ν•©λ‹λ‹¤.
- **μ„Ήμ… λ†’μ΄**: Framer Motionμ μ¤ν¬λ΅¤ νƒ€μ„λΌμΈ κ³„μ‚°μ„ μ •ν™•ν•κ² ν•κΈ° μ„ν•΄ μ»΄ν¬λ„νΈ λ†’μ΄λ” `SectionRegistry.tsx`μ μƒμ(`SECTION_HEIGHTS`)μ—μ„ μ¤‘μ•™ κ΄€λ¦¬ν•©λ‹λ‹¤.
  - _μ°Έκ³ _: μΌκ΄€λ μ¤ν¬λ΅¤ κ²½ν—μ„ μ„ν•΄ λ†’μ΄λ” μ£Όλ΅ ν”½μ…€(px) λ‹¨μ„(μ: '1600px')λ΅ μ •μλ©λ‹λ‹¤.

### 3.3 λΌμ°ν… & URL

- **κ²½λ΅**: `/w/[weddingId]` (μ: `/w/Ab3d9X`).
- **λ©”νƒ€λ°μ΄ν„°**: `page.tsx`μ `generateMetadata` ν•¨μκ°€ μ΅°νλ μ›¨λ”© λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•μ—¬ OpenGraph νƒκ·Έ(μ λ©, μ„¤λ…)λ¥Ό λ™μ μΌλ΅ μƒμ„±ν•©λ‹λ‹¤.

### 3.4 μ¤νƒ€μΌλ§

- **Tailwind CSS**: μ£Ό μ¤νƒ€μΌλ§ μ—”μ§„ (v4).
- **Z-Index**: μ¤νƒ μ»¨ν…μ¤νΈ(stacking context)λ¥Ό μ„ν•΄ μ‹ μ¤‘ν•κ² κ΄€λ¦¬λ©λ‹λ‹¤. Intro μ»΄ν¬λ„νΈλ” λ³΄ν†µ μ΄κΈ° ν™”λ©΄μ„ λ®κΈ° μ„ν•΄ `z-[100]`μ— μ„μΉν•©λ‹λ‹¤.

---

## 4. κ°λ° μ›ν¬ν”λ΅μ° κ·μΉ™

1.  **μƒ μ„Ήμ… μ¶”κ°€ μ‹**:
    - `src/components/sections/[Type]/[VariantName].tsx`μ— μ»΄ν¬λ„νΈλ¥Ό μƒμ„±ν•©λ‹λ‹¤.
    - `src/components/SectionRegistry.tsx`μ `SECTION_COMPONENTS` λ§µμ— λ“±λ΅ν•©λ‹λ‹¤.
    - μ¤ν¬λ΅¤ μΈν„°λ™μ…μ΄ ν•„μ”ν• κ²½μ° `SectionRegistry.tsx`μ `SECTION_HEIGHTS`μ— λ†’μ΄λ¥Ό μ •μν•©λ‹λ‹¤.
    - `src/lib/mock-data.ts`μ— ν…μ¤νΈμ© Mock λ°μ΄ν„°λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤.
2.  **νƒ€μ…**: ν•µμ‹¬ λ°μ΄ν„° κµ¬μ΅°κ°€ λ³€κ²½λλ©΄ `src/types/wedding.d.ts`λ¥Ό μ—…λ°μ΄νΈν•©λ‹λ‹¤.
3.  **μ—μ…‹**: λ€μ©λ‰ μ—μ…‹μ€ λ²λ“¤λ§ν•μ§€ μ•μµλ‹λ‹¤. JSON μ„¤μ • λ‚΄μ— μ™Έλ¶€ URLμ„ μ‚¬μ©ν•μ‹­μ‹μ¤.
